/*! Vista - v0.2.0 - 2014-04-24
* https://github.com/esha/vista
* Copyright (c) 2014 ESHA Research; Licensed MIT */
!function(a,b,c,d){"use strict";var e=function(){e=!1,f._list=[],f.style=b.createElement("style"),b.head.appendChild(f.style),a.addEventListener("hashchange",f.update),a.addEventListener("popstate",f.update);var c=function(a){var b=f["_"+a]=d[a];d[a]=function(){var a=b.apply(this,arguments);return f.update(),a}};c("pushState"),c("replaceState"),f.define("start"),f.update()},f={version:"0.2.0",define:function(a,b){switch(e&&e(),typeof b){case"undefined":b=a;case"string":b=new RegExp(b);case"object":b=b.test.bind(b)}f._list.push({name:a,test:b}),f.style.innerHTML+=f.rules(a)},inline:"span a input button select label img".split(" "),rules:function(a){return".show-"+a+", .vista-"+a+" .hide-"+a+" { display: none !important; }\n.vista-"+a+" .show-"+a+" { display: block !important; }\n.vista-"+a+" "+f.inline.join(".show-"+a+", .vista-"+a+" ")+".show-"+a+" { display: inline-block !important; }\n"},update:function(){var a=c+"",b=!0;f._list.forEach(function(c){var d=c.test(a);f.toggle(c.name,d),d&&(b=!1)}),f.toggle("start",b)},toggle:function(a,c){b.documentElement.classList[c?"add":"remove"]("vista-"+a)}},g=b.querySelector("meta[name=vista]");if(g){var h=g.getAttribute("content")||"";h.split(" ").forEach(function(a){f.define.apply(f,a.split("="))}),f.update()}var i=a.define||function(){};i((a.exports||a).Vista=f)}(window,document,window.location,window.history);