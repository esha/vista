<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Vista by esha</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Vista</h1>
        <p>Really easy, CSS-based, location-driven display control for your elements.</p>

        <p class="view"><a href="https://github.com/esha/vista">View the Project on GitHub <small>esha/vista</small></a></p>


        <ul>
          <li><a href="https://github.com/esha/vista/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/esha/vista/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/esha/vista">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>Vista gives you automatic, responsive control of element display via the current location.</p>

<p>If you are developing a single-page application (of any degree of complexity), you are (or should be) updating the browser's location bar  when there is a significant state change in the application (to allow the back button, bookmarking, deep-linking, etc). Such updates typically involve the showing or hiding of one or many elements.
This activity is typically a subtask of fancy "routers" and "view managers" or even custom elements that hide/show themselves, often abstracting or encapsulating the simple on/off of elements unnecessarily and sometimes, obnoxiously.</p>

<p>Vista keeps it simple. One little library to apply tests to the location when it changes and toggle the associated classes accordingly. You just declare the tests (<code>&lt;meta name="vista" content="name=regexp"/&gt;</code> or <code>Vista.define(name, regExpOrFn)</code>) and stick <code>show-{name}</code> or <code>hide-{name}</code> classes on your elements. Everything else is handled automatically. No concerns about view/element heirarchy or containers. No manual visibility toggling. No CSS rules to write. No routers or event listeners to configure. You can use it with your routers or view renderers or without them. No dependencies. No conflicts. See below for the documentation, if you even need it. :)</p>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Download the <a href="https://raw.github.com/esha/vista/master/dist/vista.min.js">production version</a> or the <a href="https://raw.github.com/esha/vista/master/dist/vista.js">development version</a>. <a href="https://travis-ci.org/esha/vista"><img src="https://travis-ci.org/esha/vista.png?branch=master" alt="Build Status"></a><br><a href="http://bower.io/">Bower</a>: <code>bower install vista</code><br><a href="https://npmjs.org/package/vista">NPM</a>: <code>npm install vista</code><br><a href="http://component.io/">Component</a>: <code>component install esha/vista</code>  </p>

<h2>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a name="define" class="anchor" href="#define"><span class="octicon octicon-link"></span></a>Define</h3>

<p>Declarative (best way):  </p>

<p><code>&lt;meta name="vista" content="name=test otherName=otherTest nameAsTest"&gt;</code>  </p>

<p>Programmatic (when you need to):  </p>

<p><code>Vista.define(name[, test])</code>  </p>

<p>The name will be used to generate the pertinent CSS display styles. The test will be turned into a regular expression that is tested against the current URL of the page. Or, if you are using <code>Vista.define(name, test)</code>, the test may be a RegExp instance or Function. If, via either definition method, the test is omitted, then the name itself will be used as the test expression (which is often sufficient). Here are some definition examples:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">Vista</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">'reports'</span><span class="p">);</span>
<span class="nx">Vista</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">'hasChart'</span><span class="p">,</span> <span class="sr">/#.*(pie|bar|line)/</span><span class="p">);</span>
<span class="nx">Vista</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">'special'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// return a truthy value to pass the test or falsey to fail</span>
    <span class="k">return</span> <span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'special=true'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">user</span><span class="p">.</span><span class="nx">settings</span><span class="p">(</span><span class="s1">'special'</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<div class="highlight highlight-html"><pre><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"vista"</span> <span class="na">content=</span><span class="s">"reports hasChart=#(pie|bar|line) query=\?q=.+"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"../bower_components/vista/dist/vista.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
...
</pre></div>

<h3>
<a name="use" class="anchor" href="#use"><span class="octicon octicon-link"></span></a>Use</h3>

<p>To show an element only when the test passes:  </p>

<p><code>class="show-{name}"</code></p>

<p>or hide an element only when a test passes:</p>

<p><code>class="hide-{name}"</code></p>

<p>The needed CSS rules are generated and applied automatically for you. Here are some usage examples:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"show-reports"</span><span class="nt">&gt;</span>
    Reports would go here, of course.
  <span class="nt">&lt;/div&gt;</span>
  <span class="c">&lt;!-- hide the submenu to make more room for the chart --&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"submenu"</span> <span class="na">class=</span><span class="s">"hide-hasChart"</span><span class="nt">&gt;</span>
    Sub-menu is here...
  <span class="nt">&lt;/div&gt;</span>
  ...
<span class="nt">&lt;/body&gt;</span>
</pre></div>

<h3>
<a name="advanced" class="anchor" href="#advanced"><span class="octicon octicon-link"></span></a>Advanced</h3>

<p>To force immediate evaluation of all test statuses (i.e. after you define new ones, but before a url change):</p>

<p><code>Vista.update();</code></p>

<p>To temporarily force a particular status (i.e. override the latest update):</p>

<p><code>Vista.toggle(name[, active]);</code></p>

<p>To add additional elements that should be <code>display: inline-block;</code> instead of <code>display: block;</code>:</p>

<p><code>Vista.inline.push('x-inline-element');</code></p>

<p>Note that this last one will only affect <em>subsequent</em> definitions.</p>

<h2>
<a name="release-history" class="anchor" href="#release-history"><span class="octicon octicon-link"></span></a>Release History</h2>

<ul>
<li>2014-04-10 <a href="https://github.com/esha/vista/tree/0.1.0">v0.1.0</a> (first public release)</li>
<li>2014-04-11 <a href="https://github.com/esha/vista/tree/0.1.1">v0.1.1</a> (test full location, add some documentation)</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/esha">esha</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-42479338-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>